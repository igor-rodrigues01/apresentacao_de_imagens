/*! Version: 0.2.0
Date: 2016-12-12 */

L.Control.Switch=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,enableTabs:!1,miscTabsName:"Outros",removable:!1,defaultLayer:!0},initialize:function(a,b,c,d){L.Util.setOptions(this,d),this._layers={},this._lastZIndex=0,this._handlingClick=!1,this._baseLayers=[],c&&Object.keys(c).length&&(this._tabs=c,this.options.enableTabs=!0),$.each(a,function(a){return function(b,c){return a._addLayer(c.layer,b,!1,!1,null)}}(this)),$.each(b,function(a){return function(b,c){var d;return d="boolean"==typeof c.overlayControl?c.overlayControl:!1,a._addLayer(c.layer,b,!0,d,c.tab)}}(this))},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){return a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverLayer:function(a,b,c,d){return this._addLayer(a,b,!0,c,d),this._update(),this},removeLayer:function(a){var b;return b=L.stamp(a),delete this._layers[b],this._update(),this},_initLayout:function(){var a,b,c,d,e;return a="switch-control-layers",b=this._container=L.DomUtil.create("div","leaflet-bar "+a),b.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(b,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(b),L.DomEvent.on(b,"mousewheel",L.DomEvent.stopPropagation)),c=this._form=L.DomUtil.create("form",a+"-list form-layer-list"),this.options.collapsed?(L.DomEvent.on(b,"mouseover",this._expand,this).on(b,"mouseout",this._collapse,this),d=this._layersLink=L.DomUtil.create("a",a+"-toggle",b),d.href="#",d.title="Layers",L.Browser.touch?L.DomEvent.on(d,"click",L.DomEvent.stop).on(d,"click",this._activeTab,this).on(d,"click",this._expand,this):L.DomEvent.on(d,"mouseover",this._activeTab,this).on(d,"focus",this._expand,this),this._map.on("click",this._collapse,this)):this._expand(),this._baseLayersList=L.DomUtil.create("div",a+"-base base-padding",c),this.options.enableTabs||(this._separator=L.DomUtil.create("div",a+"-separator",c)),this._overlayersList=L.DomUtil.create("div",a+"-overlayers",c),this.options.enableTabs&&(this._tabsOverLayers=L.DomUtil.create("ul","nav nav-tabs",c),$(this._tabsOverLayers).attr("id","tabsOverLayers"),this._tabsContentOverLayers=L.DomUtil.create("div","tab-content",c),$(this._tabsContentOverLayers).attr("id","tabsContent"),this._tabsList={},$.each(this._tabs,function(a){return function(b,c){return a._createTab(b,c),void 0===c.tabs&&a.options.defaultLayer?a.options.miscTabs=!0:void 0}}(this)),this.options.miscTabs&&(e={icon:'<span class="glyphicon glyphicon-plus"></span>'},this._createTab(this.options.miscTabsName,e))),$(b).append(c)},_createTab:function(a,b){var c,d,e;c=L.DomUtil.create("li","",this._tabsOverLayers),d=L.DomUtil.create("div","tab-pane fade",this._tabsContentOverLayers),$(d).attr("id",a),this._tabsList[a]=d,e=L.DomUtil.create("a","tab-class",c),$(e).attr("id","tabLink"+a),$(e).attr("data-target","#"+a),$(e).attr("data-toggle","tab");var f=b.name?"<span>"+b.name+"</span>":b.url?"<img class='switch-tab-limit' src='"+b.url+"'/>":b.icon;e.innerHTML='<div class="switch-control-tab switch-tab-limit">'+f+"</div>",b.selected&&(this._selectedTab=e,this._selectedTabContent=d),L.DomEvent.on(e,"click",function(){return this._selectedTab=e,this._selectedTabContent=d},this),L.Browser.touch&&L.DomEvent.on(e,"click",L.DomEvent.stop).on(e,"click",this._activeTab,this).on(e,"click",this._expand,this)},_activeTab:function(){return $(this._selectedTab).trigger("click")},_addLayer:function(a,b,c,d,e){var f;return f=L.stamp(a),this._layers[f]={layer:a,name:b,overlayer:c,overlayControl:d,tab:e},this.options.autoZIndex&&a.setZIndex?(this._lastZIndex++,a.setZIndex(this._lastZIndex)):void 0},_update:function(){var a,b,c,d,e;if(this._container){this._baseLayersList.innerHTML="",this._overlayersList.innerHTML="",this.options.enableTabs&&$.each(this._tabsList,function(){return $(this).html("")}),a=!1,d=!1,e=[];for(b in this._layers)c=this._layers[b],this._addItem(c),d=d||c.overlayer,a=a||!c.overlayer,e.push(this.options.enableTabs?void 0:this._separator.style.display=d&&a?"":"none");return e}},_onLayerChange:function(a){var b,c;return(b=this._layers[L.stamp(a.layer)])?(this._handlingClick||this._update(),c=b.overlayer?"layeradd"===a.type?"overlayeradd":"overlayerremove":"layeradd"===a.type?"baselayerchange":null,c?this._map.fire(c,b):void 0):void 0},_addItem:function(a){var b,c,d,e,f,g,h,i,j;return a.overlayer?this.options.enableTabs?a.tab?c=this._tabsList[a.tab]:this.options.miscTabs&&(c=this._tabsList[this.options.miscTabsName]):c=this._overlayersList:c=this._baseLayersList,e=L.DomUtil.create("div","control-group",c),a.overlayer&&this.options.removable&&(j=L.DomUtil.create("a","close-btn",e),j.setAttribute("title",a.name),j.innerHTML="<span>&times;</span>",L.DomEvent.addListener(j,"click",function(b){L.DomEvent.stopPropagation(b);var c,d=this._layers;$.each(d,function(b){d[b].name==a.name&&(c=d[b])}),this.removeLayer(c.layer),this._map.removeLayer(c.layer)},this)),b=this._map.hasLayer(a.layer),g=L.DomUtil.create("label","control-label",e),a.name.length<12&&!a.overlayControl||!a.overlayControl?a.name.length>12?(h=a.name.substr(0,12)+"…",g.innerHTML='<div title="'+a.name+'">'+h+"</div>"):g.innerHTML=a.name:a.name.length>12?(h=a.name.substr(0,12)+"…",g.innerHTML='<div title="'+a.name+'">'+h+"</div>"):g.innerHTML=a.name,d=L.DomUtil.create("div","control",e),i=L.DomUtil.create("div","switch-small",d),f=L.DomUtil.create("input","",i),a.overlayer?(f.type="checkbox",L.DomUtil.addClass(f,"switch-control-layers-selector")):(f.type="radio",$(f).attr("name","leaflet-base-layers"),$(f).attr("data-radio-all-off","false")),f.defaultChecked=b,f.layerId=L.stamp(a.layer),$(f).bootstrapSwitch({size:"mini"}),a.overlayer||this._baseLayers.push({input:f,obj:a}),$(f).on("switchChange.bootstrapSwitch",function(b){return function(){return a.overlayer?b._onInputClick(f,a):$.each(b._baseLayers,function(a,c){b._onInputClick(c.input,c.obj)})}}(this)),e},_onInputClick:function(a,b){return this._handlingClick=!0,a.checked&&!this._map.hasLayer(b.layer)?this._map.addLayer(b.layer):a.checked&&this._map.hasLayer(b.layer)||this._map.removeLayer(b.layer),this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._form,"switch-control-layers-expanded")},_collapse:function(){this._form.className=this._form.className.replace(" switch-control-layers-expanded","")}}),L.control["switch"]=function(a,b,c,d){return new L.Control.Switch(a,b,c,d)};
//# sourceMappingURL=leaflet.switchcontrol.min.js.map